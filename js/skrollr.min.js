/*! skrollr 0.5.14 (2013-04-04) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr | Free to use under terms of MIT license */
!function(e,t,r){"use strict";function n(r){if(o=t.documentElement,a=t.body,_(),$=this,U=(r=r||{}).constants||{},r.easing)for(var n in r.easing)D[n]=r.easing[n];if(L={beforerender:r.beforerender,render:r.render},R=!1!==r.forceHeight,j=!1!==r.smoothScrolling,W={targetTop:$.getScrollTop()},R&&(oe=r.scale||1),X(o,[c],[u]),R){var i=t.getElementById("skrollr-body")||t.createElement("div"),s=i.style;s.minWidth="1px",s.position="absolute",s.top=s.zIndex="0",i.id||(s.width="1px",s.right="0",a.appendChild(i)),function(e){J=function(){e.apply(this,arguments),s.height=ne+o.clientHeight+"px"}}(J)}return $.refresh(),l.addEvent(e,"resize",J),function e(){v(e),C()}(),$}var o,a,l=e.skrollr={get:function(){return $},init:function(e){return $||new n(e)},VERSION:"0.5.14"},i=Object.prototype.hasOwnProperty,s="rendered",f="un"+s,c="skrollr",u="no-"+c,p="linear",m="center",d="bottom",g="___has_rendered_class",h="___skrollable_id",v=e.requestAnimationFrame;!function(){var t,r=["ms","moz","webkit","o"];for(t=0;r.length>t&&!v;t++)v=e[r[t]+"RequestAnimationFrame"];var n=0;v||(v=function(t){var r=te(),o=Math.max(0,30-(r-n));e.setTimeout((function(){t(r+o)}),o),n=r+o})}();var T,y,b=/^\s+|\s+$/g,k=/^data(?:-(_\w+))?(?:-?(-?\d+))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,S=/\s*([a-z\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,w=/^([a-z\-]+)\[(\w+)\]$/,x=/-([a-z])/g,E=function(e,t){return t.toUpperCase()},F=/[\-+]?[\d]*\.?[\d]+/g,z=/\{\?\}/g,A=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,M=/[a-z\-]+-gradient/g,_=function(){var t=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(e.getComputedStyle){var r=e.getComputedStyle(a,null);for(var n in r)if(T=n.match(t)||+n==n&&r[n].match(t))break;T&&("-"===(T=T[0]).slice(0,1)?(y=T,T={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[T]):y="-"+T.toLowerCase()+"-")}},D={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5},sqrt:function(e){return Math.sqrt(e)},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-Math.abs(3*Math.cos(1.028*e*t)/t)}};n.prototype.refresh=function(e){var n,o=!1;for(e===r?(o=!0,B=[],ie=0,e=t.getElementsByTagName("*")):e=[].concat(e),n=0;e.length>n;n++){var a=e[n],l=a,i=[],c=j;if(a.attributes){for(var u=0;a.attributes.length>u;u++){var p=a.attributes[u];if("data-anchor-target"!==p.name)if("data-smooth-scrolling"!==p.name){var m=p.name.match(k);if(null!==m){var d=m[1];d=d&&U[d.substr(1)]||0;var v=(0|m[2])+d,T=m[3],y=m[4]||T,b={offset:v,props:p.value,element:a};i.push(b),T&&"start"!==T&&"end"!==T?(b.mode="relative",b.anchors=[T,y]):(b.mode="absolute","end"===T?b.isEnd=!0:(b.frame=v*oe,delete b.offset))}}else c="off"!==p.value;else if(null===(l=t.querySelector(p.value)))throw'Unable to find anchor target "'+p.value+'"'}if(i.length){var S,w,x;!o&&h in a?(x=a[h],S=B[x].styleAttr,w=B[x].classAttr):(x=a[h]=ie++,S=a.style.cssText,w=Q(a));var E=B[x]={element:a,styleAttr:S,classAttr:w,anchorTarget:l,keyFrames:i,smoothScrolling:c};X(a,["skrollable",s],[f]),E[g]=!0}}}for(J(),n=0;e.length>n;n++){var F=B[e[n][h]];F!==r&&(F.keyFrames.sort(re),I(F),V(F))}return $},n.prototype.relativeToAbsolute=function(e,t,r){var n=o.clientHeight,a=e.getBoundingClientRect(),l=a.top,i=a.bottom-a.top;return t===d?l-=n:t===m&&(l-=n/2),r===d?l+=i:r===m&&(l+=i/2),0|(l+=$.getScrollTop())+.5},n.prototype.animateTo=function(e,t){t=t||{};var n=te(),o=$.getScrollTop();return(P={startTop:o,topDiff:e-o,targetTop:e,duration:t.duration||1e3,startTime:n,endTime:n+(t.duration||1e3),easing:D[t.easing||p],done:t.done}).topDiff||(P.done&&P.done.call($,!1),P=r),$},n.prototype.stopAnimateTo=function(){P&&P.done&&P.done.call($,!0),P=r},n.prototype.isAnimatingTo=function(){return!!P},n.prototype.setScrollTop=function(t,r){return!0===r&&(ae=t,Y=!0),l.iscroll?l.iscroll.scrollTo(0,-t):e.scrollTo(0,t),$},n.prototype.getScrollTop=function(){return l.iscroll?-l.iscroll.y:e.pageYOffset||o.scrollTop||a.scrollTop||0},n.prototype.on=function(e,t){return L[e]=t,$},n.prototype.off=function(e){return delete L[e],$};var H=function(e,t){for(var r=0;B.length>r;r++){var n,o,a=B[r],c=a.smoothScrolling?e:t,u=a.keyFrames,p=u[0].frame,m=u[u.length-1].frame,d=p>=c;if(d||c>=m){var h=u[d?0:u.length-1].props;for(n in h)i.call(h,n)&&(o=N(h[n].value),l.setStyle(a.element,n,o));a[g]&&(p>c||c>m)&&(X(a.element,[f],[s]),a[g]=!1)}else{a[g]||(X(a.element,[s],[f]),a[g]=!0);for(var v=0;u.length-1>v;v++)if(c>=u[v].frame&&u[v+1].frame>=c){var T=u[v],y=u[v+1];for(n in T.props)if(i.call(T.props,n)){var b=(c-T.frame)/(y.frame-T.frame);b=T.props[n].easing(b),o=G(T.props[n].value,y.props[n].value,b),o=N(o),l.setStyle(a.element,n,o)}break}}}},C=function(){var e,t,n=$.getScrollTop(),o=te();P?(o>=P.endTime?(n=P.targetTop,e=P.done,P=r):(t=P.easing((o-P.startTime)/P.duration),n=0|P.startTop+t*P.topDiff),$.setScrollTop(n)):(W.targetTop-n&&(W={startTop:ae,topDiff:n-ae,targetTop:n,startTime:le,endTime:le+200}),W.endTime>=o&&(t=D.sqrt((o-W.startTime)/200),n=0|W.startTop+t*W.topDiff));if(0>n&&(n=0),Y||ae!==n){Y=!1;var a={curTop:n,lastTop:ae,maxTop:ne,direction:n>=ae?"down":"up"};!1!==(L.beforerender&&L.beforerender.call($,a))&&(H(n,$.getScrollTop()),ae=n,L.render&&L.render.call($,a)),e&&e.call($,!1)}le=o},I=function(e){for(var t=0;e.keyFrames.length>t;t++){for(var r,n,o,a,l=e.keyFrames[t],i={};null!==(a=S.exec(l.props));)o=a[1],n=a[2],null!==(r=o.match(w))?(o=r[1],r=r[2]):r=p,n=n.indexOf("!")?O(n):[n.slice(1)],i[o]={value:n,easing:D[r]};l.props=i}},O=function(e){var t=[];return A.lastIndex=0,e=e.replace(A,(function(e){return e.replace(F,(function(e){return e/255*100+"%"}))})),y&&(M.lastIndex=0,e=e.replace(M,(function(e){return y+e}))),e=e.replace(F,(function(e){return t.push(+e),"{?}"})),t.unshift(e),t},V=function(e){var t,r={};for(t=0;e.keyFrames.length>t;t++)q(e.keyFrames[t],r);for(r={},t=e.keyFrames.length-1;t>=0;t--)q(e.keyFrames[t],r)},q=function(e,t){var r;for(r in t)i.call(e.props,r)||(e.props[r]=t[r]);for(r in e.props)t[r]=e.props[r]},G=function(e,t,r){if(e.length!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';for(var n=[e[0]],o=1;e.length>o;o++)n[o]=e[o]+(t[o]-e[o])*r;return n},N=function(e){var t=1;return z.lastIndex=0,e[0].replace(z,(function(){return e[t++]}))};l.setStyle=function(e,t,r){var n=e.style;if("zIndex"===(t=t.replace(x,E).replace("-","")))n[t]=""+(0|r);else if("float"===t)n.styleFloat=n.cssFloat=r;else try{T&&(n[T+t.slice(0,1).toUpperCase()+t.slice(1)]=r),n[t]=r}catch(e){}},l.addEvent=function(t,r,n){var o=function(t){return(t=t||e.event).target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1}),n.call(this,t)};e.addEventListener?t.addEventListener(r,o,!1):t.attachEvent("on"+r,o)};var $,B,L,R,U,P,j,W,Y,J=function(){ne=0,function(){var e,t,r,n,o,a,l,i,s;for(a=0;B.length>a;a++)for(t=(e=B[a]).element,r=e.anchorTarget,n=e.keyFrames,l=0;n.length>l;l++)"relative"===(o=n[l]).mode&&(i=t.style.cssText,s=Q(t),t.style.cssText=e.styleAttr,X(t,e.classAttr),o.frame=$.relativeToAbsolute(r,o.anchors[0],o.anchors[1])-o.offset,t.style.cssText=i,X(t,s)),R&&!o.isEnd&&o.frame>ne&&(ne=o.frame);for(ne=Math.max(ne,K()),a=0;B.length>a;a++)for(n=(e=B[a]).keyFrames,l=0;n.length>l;l++)(o=n[l]).isEnd&&(o.frame=ne-o.offset)}(),Y=!0,l.iscroll&&e.setTimeout((function(){l.iscroll.refresh()}),0)},K=function(){return Math.max(a.scrollHeight,a.offsetHeight,o.scrollHeight,o.offsetHeight,o.clientHeight)-o.clientHeight},Q=function(t){var r="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[r],r="baseVal"),t[r]},X=function(t,n,o){var a="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[a],a="baseVal"),o===r)return t[a]=n,r;for(var l=t[a],i=0;n.length>i;i++)-1===ee(l).indexOf(ee(n[i]))&&(l+=" "+n[i]);for(var s=0;o.length>s;s++)l=ee(l).replace(ee(o[s])," ");t[a]=Z(l)},Z=function(e){return e.replace(b,"")},ee=function(e){return" "+e+" "},te=Date.now||function(){return+new Date},re=function(e,t){return e.frame-t.frame},ne=0,oe=1,ae=-1,le=te(),ie=0}(window,document);